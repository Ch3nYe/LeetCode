// ref: https://leetcode-cn.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition/solution/python-pai-xu-shuang-zhi-zhen-by-irruma/
pub mod double_pointer;

pub trait Solution {
    fn num_subseq(nums: Vec<i32>, target: i32) -> i32;
}

#[cfg(test)]
mod tests {
    use super::Solution;

    pub fn run<S: Solution>() {
        let test_cases = [
            (&[3,5,6,7] as &[_], 9, 4),
            (&[3,3,6,8], 10, 6),
            (&[2,3,3,4,6,7], 12, 61),
            (&[5,2,4,1,7,6,8], 16, 127),
            (&[14,4,6,6,20,8,5,6,8,12,6,10,14,9,17,16,
                9,7,14,11,14,15,13,11,10,18,13,17,17,
                14,17,7,9,5,10,13,8,5,18,20,7,5,5,15,19,14],
             22, 272187084),
            (&[82,30,56,28,63,24,17,50,45,95,50,41,10,59,59,17,39,11,36,64,44,16,56,31,83,100,12,69,13,46,58,92,55,71,33,99,78,13,17,50,82,33,12,22,48,48,77,71,11,83,26,51,26,56,51,82,54,50,13,64,83,48,31,28,33,89,60,22,25,35,89,80,65,92,52,29,64,96,98,76,93,77,90,72,49,62,78,41,99,22,36,64,23,76,71,69,83,84,77,72,24,21,89,37,20,59,48,78,68,60,25,93,38,83,16,85,10,20,34,98,73,16,45,99,75,29,12,27,35,54,72,10,99,61,92,67,43,31,27,88,51,92,75,59,47,48,48,22,61,69,69,90,61,85,48,83,79,96,27,48,24,20,35,52,49,58,84,71,30,89,72,74,72,87,31,43,66,18,92,63,48,71,75,42,37,53,76,79,87]
            ,125,945569954)

        ];

        for (nums, target, expected) in test_cases {
            assert_eq!(S::num_subseq(nums.to_vec(), target), expected);
        }
    }
}